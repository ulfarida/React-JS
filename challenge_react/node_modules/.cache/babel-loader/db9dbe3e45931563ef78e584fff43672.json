{"ast":null,"code":"import createStore from 'unistore';\nimport axios from \"axios\";\nconst initialState = {\n  username: '',\n  password: '',\n  email: '',\n  token: '',\n  auth: false,\n  listNews: [],\n  isLoading: true,\n  category: 'general',\n  search: ''\n};\nexport const store = createStore(initialState);\nexport const actions = store => ({\n  setInput: (state, event) => {\n    console.warn('setinput masuk');\n    console.warn(event.target.value);\n    store.setState({\n      [event.target.name]: event.target.value\n    });\n  },\n  afterSignin: state => {\n    // const self = this;\n    console.warn(this);\n    const username = state.username,\n          password = state.password;\n    const input = {\n      username: username,\n      password: password\n    };\n    axios.post(\"https://authaltab4.free.beeceptor.com/auth\", input).then(function (response) {\n      console.warn(response.data);\n\n      if (response.data.hasOwnProperty(\"token\")) {\n        store.setState({\n          username: response.data.username\n        });\n        store.setState({\n          email: response.data.email\n        });\n        store.setState({\n          token: response.data.token\n        });\n        store.setState({\n          auth: true\n        });\n        self.props.history.push(\"/profile\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n});","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/React/Github React-JS/React-JS/challenge_react/src/store.js"],"names":["createStore","axios","initialState","username","password","email","token","auth","listNews","isLoading","category","search","store","actions","setInput","state","event","console","warn","target","value","setState","name","afterSignin","input","post","then","response","data","hasOwnProperty","self","props","history","push","catch","error","log"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACLC,EAAAA,QAAQ,EAAG,EADN;AAELC,EAAAA,QAAQ,EAAG,EAFN;AAGLC,EAAAA,KAAK,EAAG,EAHH;AAILC,EAAAA,KAAK,EAAG,EAJH;AAKLC,EAAAA,IAAI,EAAG,KALF;AAMLC,EAAAA,QAAQ,EAAG,EANN;AAOLC,EAAAA,SAAS,EAAG,IAPP;AAQLC,EAAAA,QAAQ,EAAG,SARN;AASLC,EAAAA,MAAM,EAAG;AATJ,CAArB;AAYA,OAAO,MAAMC,KAAK,GAAGZ,WAAW,CAACE,YAAD,CAAzB;AAEP,OAAO,MAAMW,OAAO,GAAGD,KAAK,KAAK;AAC7BE,EAAAA,QAAQ,EAAG,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACzBC,IAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb;AACAD,IAAAA,OAAO,CAACC,IAAR,CAAaF,KAAK,CAACG,MAAN,CAAaC,KAA1B;AACAR,IAAAA,KAAK,CAACS,QAAN,CAAe;AAAE,OAACL,KAAK,CAACG,MAAN,CAAaG,IAAd,GAAsBN,KAAK,CAACG,MAAN,CAAaC;AAArC,KAAf;AACH,GAL4B;AAO7BG,EAAAA,WAAW,EAAIR,KAAD,IAAW;AACrB;AACAE,IAAAA,OAAO,CAACC,IAAR,CAAa,IAAb;AAFqB,UAGbf,QAHa,GAGUY,KAHV,CAGbZ,QAHa;AAAA,UAGHC,QAHG,GAGUW,KAHV,CAGHX,QAHG;AAIrB,UAAMoB,KAAK,GAAG;AACVrB,MAAAA,QAAQ,EAAGA,QADD;AAEVC,MAAAA,QAAQ,EAAGA;AAFD,KAAd;AAIAH,IAAAA,KAAK,CACAwB,IADL,CACU,4CADV,EACwDD,KADxD,EAEKE,IAFL,CAEU,UAASC,QAAT,EAAmB;AACrBV,MAAAA,OAAO,CAACC,IAAR,CAAaS,QAAQ,CAACC,IAAtB;;AACA,UAAGD,QAAQ,CAACC,IAAT,CAAcC,cAAd,CAA6B,OAA7B,CAAH,EAA0C;AACtCjB,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAElB,UAAAA,QAAQ,EAAGwB,QAAQ,CAACC,IAAT,CAAczB;AAA3B,SAAf;AACAS,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAEhB,UAAAA,KAAK,EAAGsB,QAAQ,CAACC,IAAT,CAAcvB;AAAxB,SAAf;AACAO,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAEf,UAAAA,KAAK,EAAGqB,QAAQ,CAACC,IAAT,CAActB;AAAxB,SAAf;AACAM,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAEd,UAAAA,IAAI,EAAG;AAAT,SAAf;AACAuB,QAAAA,IAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ,KAXL,EAYKC,KAZL,CAYW,UAASC,KAAT,EAAgB;AACnBlB,MAAAA,OAAO,CAACmB,GAAR,CAAYD,KAAZ;AACH,KAdL;AAeH;AA9B4B,CAAL,CAArB","sourcesContent":["import createStore from 'unistore';\nimport axios from \"axios\"\n\nconst initialState = { \n                username : '',\n                password : '',\n                email : '',\n                token : '',\n                auth : false,\n                listNews : [],\n                isLoading : true,\n                category : 'general',\n                search : ''\n                };\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n    setInput : (state, event) => {\n        console.warn('setinput masuk')\n        console.warn(event.target.value)\n        store.setState({ [event.target.name] : event.target.value })\n    },\n\n    afterSignin : (state) => {\n        // const self = this;\n        console.warn(this)\n        const { username, password } = state;\n        const input = {\n            username : username,\n            password : password\n        }\n        axios\n            .post(\"https://authaltab4.free.beeceptor.com/auth\", input)\n            .then(function(response) {\n                console.warn(response.data)\n                if(response.data.hasOwnProperty(\"token\")) {\n                    store.setState({ username : response.data.username })\n                    store.setState({ email : response.data.email })\n                    store.setState({ token : response.data.token })\n                    store.setState({ auth : true })\n                    self.props.history.push(\"/profile\")\n                }\n            })\n            .catch(function(error) {\n                console.log(error)\n            })\n    }\n})"]},"metadata":{},"sourceType":"module"}