{"ast":null,"code":"var _jsxFileName = \"/home/alta7/Documents/Alterra Academy/React/Github React-JS/React-JS/challenge_react/src/components/topNews.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TopArticle from './topArticle';\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\nconst apiKey = \"58fecc904b4e40ef920ae5582000d89a\";\nconst baseUrl = \"https://newsapi.org/v2/\";\nconst urlHeadline = baseUrl + \"top-headlines?country=us&q=IT&apiKey=\" + apiKey;\n\nclass TopNews extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = () => {\n      axios.get(urlHeadline).then(function (response) {\n        store.setState({\n          listNews: response.data.articles,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        store.setState({\n          isLoading: false\n        });\n      });\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          listNews = _this$state.listNews,\n          isLoading = _this$state.isLoading;\n    const topHeadlines = listNews.filter(item => {\n      if (item.content !== null && item.image !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    return React.createElement(\"div\", {\n      className: \"headlineNews\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, isLoading ? React.createElement(\"div\", {\n      className: \"loading text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Loading...\") : React.createElement(TopArticle, {\n      news: topHeadlines,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default TopNews;","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/React/Github React-JS/React-JS/challenge_react/src/components/topNews.jsx"],"names":["React","Component","axios","TopArticle","connect","actions","store","apiKey","baseUrl","urlHeadline","TopNews","componentDidMount","get","then","response","setState","listNews","data","articles","isLoading","catch","error","render","state","topHeadlines","filter","item","content","image"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,UAA/B;AAEA,MAAMC,MAAM,GAAG,kCAAf;AACA,MAAMC,OAAO,GAAG,yBAAhB;AACA,MAAMC,WAAW,GAAGD,OAAO,GAAG,uCAAV,GAAoDD,MAAxE;;AAEA,MAAMG,OAAN,SAAsBT,SAAtB,CAAgC;AAAA;AAAA;;AAAA,SAM5BU,iBAN4B,GAMR,MAAM;AACtBT,MAAAA,KAAK,CACAU,GADL,CACSH,WADT,EAEKI,IAFL,CAEU,UAASC,QAAT,EAAmB;AACrBR,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAEC,UAAAA,QAAQ,EAAEF,QAAQ,CAACG,IAAT,CAAcC,QAA1B;AAAoCC,UAAAA,SAAS,EAAE;AAA/C,SAAf;AACH,OAJL,EAMKC,KANL,CAMW,UAASC,KAAT,EAAgB;AACnBf,QAAAA,KAAK,CAACS,QAAN,CAAe;AAAEI,UAAAA,SAAS,EAAE;AAAb,SAAf;AACH,OARL;AASH,KAhB2B;AAAA;;AAkB5BG,EAAAA,MAAM,GAAI;AAAA,wBAC0B,KAAKC,KAD/B;AAAA,UACEP,QADF,eACEA,QADF;AAAA,UACYG,SADZ,eACYA,SADZ;AAEN,UAAMK,YAAY,GAAGR,QAAQ,CAACS,MAAT,CAAgBC,IAAI,IAAI;AACzC,UAAIA,IAAI,CAACC,OAAL,KAAiB,IAAjB,IAAyBD,IAAI,CAACE,KAAL,KAAe,IAA5C,EAAkD;AAC9C,eAAOF,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KALoB,CAArB;AAOA,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMP,SAAS,GAAG;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAH,GAA2D,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAEK,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1E,CADJ;AAKH;;AAhC2B;;AAmChC,eAAed,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport TopArticle from './topArticle'\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\n\nconst apiKey = \"58fecc904b4e40ef920ae5582000d89a\";\nconst baseUrl = \"https://newsapi.org/v2/\";\nconst urlHeadline = baseUrl + \"top-headlines?country=us&q=IT&apiKey=\" + apiKey;\n\nclass TopNews extends Component {\n    // state = {\n    //     listNews : [],\n    //     isLoading : true\n    // };\n\n    componentDidMount = () => {\n        axios\n            .get(urlHeadline)\n            .then(function(response) {\n                store.setState({ listNews: response.data.articles, isLoading: false})\n            })\n\n            .catch(function(error) {\n                store.setState({ isLoading: false })\n            })\n    };\n\n    render () {\n        const { listNews, isLoading } = this.state;\n        const topHeadlines = listNews.filter(item => {\n            if (item.content !== null && item.image !== null) {\n                return item;\n            }\n            return false;\n        })\n\n        return (\n            <div className=\"headlineNews\">\n                { isLoading ? <div className=\"loading text-center\">Loading...</div> : <TopArticle news={topHeadlines}/> }\n            </div>\n        );\n    }\n}\n\nexport default TopNews;"]},"metadata":{},"sourceType":"module"}