{"ast":null,"code":"import _classCallCheck from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Header from\"../components/header\";import{withRouter}from'react-router-dom';import{connect}from\"unistore/react\";import{actions,store}from\"../store\";import axios from\"axios\";var Auth=/*#__PURE__*/function(_Component){_inherits(Auth,_Component);function Auth(){var _getPrototypeOf2;var _this;_classCallCheck(this,Auth);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Auth)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.afterSignin=function(){console.warn('after signin');var self=_assertThisInitialized(_this);var input={username:_this.props.username,password:_this.props.password};axios.post(\"https://alta123.free.beeceptor.com/auth\",input).then(function(response){console.warn(response.data);if(response.data.hasOwnProperty(\"token\")){store.setState({username:response.data.username});store.setState({email:response.data.email});store.setState({token:response.data.token});store.setState({auth:true});self.props.history.push(\"/profile\");console.warn(self);}}).catch(function(error){console.log(error);});};return _this;}_createClass(Auth,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(Header,this.props),React.createElement(\"div\",{className:\"auth text-center\"},React.createElement(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();}},React.createElement(\"h3\",null,\"Masuk\"),React.createElement(\"div\",{className:\"input-box\"},React.createElement(\"input\",{type:\"text\",name:\"username\",placeholder:\"username\",onChange:function onChange(e){return _this2.props.setInput(e);}})),React.createElement(\"div\",{className:\"input-box\"},React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",onChange:function onChange(e){return _this2.props.setInput(e);}})),React.createElement(\"div\",{className:\"input-box\"},React.createElement(\"button\",{className:\"auth-button\",onClick:function onClick(){return _this2.afterSignin();}},\"Sign In\")))));}}]);return Auth;}(Component);export default connect(\"username, password\",actions)(withRouter(Auth));","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/React/React-JS/src/pages/auth.jsx"],"names":["React","Component","Header","withRouter","connect","actions","store","axios","Auth","afterSignin","console","warn","self","input","username","props","password","post","then","response","data","hasOwnProperty","setState","email","token","auth","history","push","catch","error","log","e","preventDefault","setInput"],"mappings":"w0BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,OAAT,CAAkBC,KAAlB,KAA+B,UAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,I,uXACFC,W,CAAc,UAAM,CAChBC,OAAO,CAACC,IAAR,CAAa,cAAb,EACA,GAAMC,CAAAA,IAAI,8BAAV,CACA,GAAMC,CAAAA,KAAK,CAAG,CACVC,QAAQ,CAAG,MAAKC,KAAL,CAAWD,QADZ,CAEVE,QAAQ,CAAG,MAAKD,KAAL,CAAWC,QAFZ,CAAd,CAIAT,KAAK,CACAU,IADL,CACU,yCADV,CACqDJ,KADrD,EAEKK,IAFL,CAEU,SAASC,QAAT,CAAmB,CACrBT,OAAO,CAACC,IAAR,CAAaQ,QAAQ,CAACC,IAAtB,EACA,GAAGD,QAAQ,CAACC,IAAT,CAAcC,cAAd,CAA6B,OAA7B,CAAH,CAA0C,CACtCf,KAAK,CAACgB,QAAN,CAAe,CAACR,QAAQ,CAAGK,QAAQ,CAACC,IAAT,CAAcN,QAA1B,CAAf,EACAR,KAAK,CAACgB,QAAN,CAAe,CAACC,KAAK,CAAGJ,QAAQ,CAACC,IAAT,CAAcG,KAAvB,CAAf,EACAjB,KAAK,CAACgB,QAAN,CAAe,CAACE,KAAK,CAAGL,QAAQ,CAACC,IAAT,CAAcI,KAAvB,CAAf,EACAlB,KAAK,CAACgB,QAAN,CAAe,CAACG,IAAI,CAAG,IAAR,CAAf,EACAb,IAAI,CAACG,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACAjB,OAAO,CAACC,IAAR,CAAaC,IAAb,EACH,CACJ,CAZL,EAaKgB,KAbL,CAaW,SAASC,KAAT,CAAgB,CACnBnB,OAAO,CAACoB,GAAR,CAAYD,KAAZ,EACH,CAfL,EAgBH,C,uEAES,iBACN,MACI,gCACI,oBAAC,MAAD,CAAY,KAAKd,KAAjB,CADJ,CAEI,2BAAK,SAAS,CAAC,kBAAf,EACI,4BAAM,QAAQ,CAAE,kBAAAgB,CAAC,QAAIA,CAAAA,CAAC,CAACC,cAAF,EAAJ,EAAjB,EACI,sCADJ,CAEI,2BAAK,SAAS,CAAC,WAAf,EACI,6BACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,UAFT,CAGI,WAAW,CAAC,UAHhB,CAII,QAAQ,CAAE,kBAAAD,CAAC,QAAI,CAAA,MAAI,CAAChB,KAAL,CAAWkB,QAAX,CAAoBF,CAApB,CAAJ,EAJf,EADJ,CAFJ,CAUI,2BAAK,SAAS,CAAC,WAAf,EACI,6BACI,IAAI,CAAC,UADT,CAEI,IAAI,CAAC,UAFT,CAGI,WAAW,CAAC,UAHhB,CAII,QAAQ,CAAE,kBAAAA,CAAC,QAAI,CAAA,MAAI,CAAChB,KAAL,CAAWkB,QAAX,CAAoBF,CAApB,CAAJ,EAJf,EADJ,CAVJ,CAkBI,2BAAK,SAAS,CAAC,WAAf,EACI,8BAAQ,SAAS,CAAC,aAAlB,CACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACtB,WAAL,EAAN,EADb,YADJ,CAlBJ,CADJ,CAFJ,CADJ,CAgCH,C,kBA3DcR,S,EA8DnB,cAAeG,CAAAA,OAAO,CAAC,oBAAD,CAAuBC,OAAvB,CAAP,CAAuCF,UAAU,CAACK,IAAD,CAAjD,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Header from \"../components/header\"\nimport { withRouter } from 'react-router-dom'\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\nimport axios from \"axios\"\n\nclass Auth extends Component {\n    afterSignin = () => {\n        console.warn('after signin')\n        const self = this\n        const input = {\n            username : this.props.username,\n            password : this.props.password\n        }\n        axios\n            .post(\"https://alta123.free.beeceptor.com/auth\", input)\n            .then(function(response) {\n                console.warn(response.data)\n                if(response.data.hasOwnProperty(\"token\")) {\n                    store.setState({username : response.data.username})\n                    store.setState({email : response.data.email})\n                    store.setState({token : response.data.token})\n                    store.setState({auth : true})\n                    self.props.history.push(\"/profile\")\n                    console.warn(self)\n                }\n            })\n            .catch(function(error) {\n                console.log(error)\n            })\n    }\n    \n    render () {\n        return (\n            <div>\n                <Header {...this.props} />\n                <div className=\"auth text-center\">\n                    <form onSubmit={e => e.preventDefault()}>\n                        <h3>Masuk</h3>\n                        <div className=\"input-box\">\n                            <input \n                                type=\"text\" \n                                name=\"username\"\n                                placeholder=\"username\" \n                                onChange={e => this.props.setInput(e)} \n                            />\n                        </div>\n                        <div className=\"input-box\">\n                            <input \n                                type=\"password\" \n                                name=\"password\" \n                                placeholder=\"password\" \n                                onChange={e => this.props.setInput(e)} \n                            />\n                        </div>\n                        <div className=\"input-box\">\n                            <button className=\"auth-button\"\n                                onClick={() => this.afterSignin()}>\n                                Sign In\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>    \n        );\n    }\n}\n\nexport default connect(\"username, password\", actions)(withRouter(Auth));"]},"metadata":{},"sourceType":"module"}