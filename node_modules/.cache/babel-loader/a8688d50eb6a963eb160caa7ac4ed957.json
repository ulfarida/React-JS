{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/alta7/Documents/Alterra Academy/React/React-JS/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ListArticle from'../components/listArticle';import Header from'../components/header';import TopNews from'../components/topNews';import{connect}from\"unistore/react\";import{actions,store}from\"../store\";import{Redirect}from\"react-router-dom\";var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);function News(){var _getPrototypeOf2;var _this;_classCallCheck(this,News);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(News)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.setCategoryNews=function _callee(value){var category;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:category=value;_context.next=3;return _regeneratorRuntime.awrap(_this.props.history.replace('/news/'+category));case 3:_this.getNews();case 4:case\"end\":return _context.stop();}}});};_this.getNews=function(){var paramCategory=_this.props.match.params.category;_this.props.getNewsAxios(paramCategory,'everything');};_this.setInput=function(event){var keyword=event.target.value;store.setState({search:keyword});if(keyword.length>2){_this.props.getNewsAxios(keyword,'everything');}};_this.componentDidMount=function(){_this.props.getNewsAxios(_this.props.category,'everything');};return _this;}_createClass(News,[{key:\"render\",value:function render(){var _this2=this;var listNews=this.props.listNews;var isLoading=this.props.isLoading;var topHeadlines=listNews.filter(function(item){if(item.content!==null&&item.image!==null){return item;}return false;});var headlineNews=topHeadlines.map(function(item,key){return React.createElement(ListArticle,{key:key,title:item.title,img:item.urlToImage,content:item.description,url:item.url});});if(this.props.auth===false){return React.createElement(Redirect,{to:{pathname:'/auth'}});}else{return React.createElement(\"div\",null,React.createElement(Header,Object.assign({doSearch:function doSearch(event){return _this2.setInput(event);},keyword:this.props.search,placeholder:\"type something\",setCategory:function setCategory(e){return _this2.setCategoryNews(e);},isCategoryNews:true},this.props)),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row content\"},React.createElement(\"div\",{className:\"col-md-4 list-news\"},React.createElement(TopNews,null)),React.createElement(\"div\",{className:\"col-md-8 list-news\"},isLoading?React.createElement(\"div\",{className:\"loading text-center\"},\"Loading...\"):headlineNews))));};}}]);return News;}(Component);export default connect(\"category, listNews, isLoading, search, auth\",actions)(News);","map":{"version":3,"sources":["/home/alta7/Documents/Alterra Academy/React/React-JS/src/pages/news.jsx"],"names":["React","Component","ListArticle","Header","TopNews","connect","actions","store","Redirect","News","setCategoryNews","value","category","props","history","replace","getNews","paramCategory","match","params","getNewsAxios","setInput","event","keyword","target","setState","search","length","componentDidMount","listNews","isLoading","topHeadlines","filter","item","content","image","headlineNews","map","key","title","urlToImage","description","url","auth","pathname","e"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ListArticle from '../components/listArticle'\nimport Header from '../components/header'\nimport TopNews from '../components/topNews'\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\nimport { Redirect } from \"react-router-dom\"\n\nclass News extends Component {\n\n    setCategoryNews = async value => {\n        const category = value;\n        await this.props.history.replace('/news/'+category)\n        this.getNews()\n    }\n\n    getNews = () => {\n        const paramCategory = this.props.match.params.category;\n        this.props.getNewsAxios(paramCategory, 'everything');\n    }\n\n    setInput = event => {\n        const keyword = event.target.value;\n        store.setState({ search: keyword });\n        if (keyword.length > 2) {\n            this.props.getNewsAxios(keyword, 'everything')\n        }\n    };\n\n    componentDidMount = () => { \n        this.props.getNewsAxios(this.props.category, 'everything')\n    };\n\n    render () {\n        const listNews = this.props.listNews\n        const isLoading = this.props.isLoading\n        const topHeadlines = listNews.filter(item => {\n            if (item.content !== null && item.image !== null) {\n                return item;\n            }\n            return false;\n        })\n\n        const headlineNews = topHeadlines.map((item, key) => {\n            return (\n                <ListArticle \n                    key={key} \n                    title={item.title} \n                    img={item.urlToImage} \n                    content={item.description}\n                    url={item.url} />\n            );\n        });\n\n        if (this.props.auth===false) {\n            return <Redirect to={{ pathname: '/auth'}} /> } \n        else { return (\n            <div>\n                <Header \n                    doSearch={event => this.setInput(event)}\n                    keyword={this.props.search}\n                    placeholder=\"type something\"\n                    setCategory={e => this.setCategoryNews(e)}\n                    isCategoryNews={true} \n                    {...this.props}/>\n                <div className=\"container\">\n                    <div className=\"row content\">\n                        <div className=\"col-md-4 list-news\">\n                            <TopNews/>\n                        </div>\n                        <div className=\"col-md-8 list-news\">\n                            { isLoading ? <div className=\"loading text-center\">Loading...</div> : headlineNews }\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        )};\n    }\n}\n\nexport default connect(\"category, listNews, isLoading, search, auth\", actions)(News);"]},"metadata":{},"sourceType":"module"}